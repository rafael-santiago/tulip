# Building the tulip

The ``Tulip`` uses [``Hefesto``](https://github.com/rafael-santiago/hefesto) as its build system.

Maybe you should think that I am crazy, because this project is based on three ``DSL``s that I have been developing over
these years:

1. The external build system's ``DSL``.
2. The unit testing internal ``DSL``.
3. The external ``DSL`` that is developed in this repo.

Anyway, in terms of build, bear in mind that all here is set up to work finding to keep the things simple to extend.

If you add a new code file to the pre-existent sub-directories under ``src`` sub-directory, you do not need to
worry up with anything. However if you create some new sub-directory you need to edit the file ``src/.ivk``
adding this new sub-directory to the custom option ``--sub-modules``. Something like:

```
(...) --sub-modules=blah,new,new/additional
```

To run the build using the default way:

```
devel@tasman:~/src/tulip/src# hefesto
```

When you need to generate a debug version you should use:

```
devel@tasman:~/src/tulip/src# hefesto --compile-model=debug
```

## Native build options

Of course that we have additional options, take a look at the **Table 1** and **Table 2**.

**Table 1**: Native build options.

|           **Option* *             |                             **Utility**                                            |
|:---------------------------------:|:----------------------------------------------------------------------------------:|
|           ``--help``              |        You got the main info about these options                                   |
|           ``--devels-forge``      |        It runs a faster build. Desired while developing some stuff or maintaining  |
|           ``--test-options``      |        Concentrates specific options to be passed to the testing build             |
|           ``--sub-modules``       |        Concentrates the relevant directories containing the Tulip's parts          |
|           ``--includes``          |        Specifies the additional include's path                                     |
|           ``--install``           |        Installs Tulip                                                              |
|           ``--uninstall``         |        Uninstalls Tulip                                                            |

**Table 2**: Native testing build options.

|            **Option**             |                             **Utility**                                            |
|:---------------------------------:|:----------------------------------------------------------------------------------:|
|           ``--help``              |        You got the main info about these options                                   |
|           ``--devels-forge``      |        It runs a faster build. Desired while developing some stuff or maintaining  |
|           ``--no-valgrind``       |        Inhibits the valgrind usage                                                 |
|           ``--fuzz-nr``           |        Specifies the amount of random texts generated by the compiler's fuzz test  |
|     ``--cutest-log-path``         |        Specifies the file path for the main test log                               |
|     ``--cutest-leak-check``       |        Activates the ``cutest`` (the testing library) memory leak detection system |
|     ``--skip-fuzz-tests``         |        Skips the compiler's fuzz test                                              |
| ``--skip-fancy-outputs-assurance``|        Skips the test about the quality of the generated tablatures                |

# Remarks

- Do not disable the memory leak system, this includes ``cutest`` and ``valgrind``, this last one when installed (do not open pull requests with it disabled).
- Do not add new native options to the build without make it public. Documenting, adding your remarks in ``--help`` output.
- Do not strip off something just because you do not understand. In this case you should strip off your ignorance about the stuff which is challenging you.


